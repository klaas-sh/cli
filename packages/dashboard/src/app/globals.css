@import "tailwindcss";
@import "@xterm/xterm/css/xterm.css";

/*
 * Configure dark mode to use the .dark class selector
 * This allows manual toggling via JavaScript
 */
@custom-variant dark (&:where(.dark, .dark *));

/*
 * Tailwind v4 Theme Configuration
 * Define custom colors as Tailwind utilities using @theme
 * These become available as text-app-*, bg-app-*, etc.
 *
 * Light and dark variants are defined separately.
 * Use dark:text-app-*-dark to switch in dark mode.
 */
@theme {
  /*
   * Theme colors using Tailwind violet palette:
   * - violet-900: #4c1d95 (dark background)
   * - violet-800: #5b21b6 (accent)
   * - violet-600: #7c3aed (primary/interactive)
   * - violet-100: #ede9fe (light elements on dark)
   */

  /* Light mode colors */
  --color-app-primary: #7c3aed;        /* violet-600 */
  --color-app-primary-hover: #6d28d9;  /* violet-700 */
  --color-app-primary-light: #ede9fe;  /* violet-100 */
  --color-app-secondary: #64748b;      /* slate-500 */
  --color-app-accent: #5b21b6;         /* violet-800 */
  --color-app-success: #10b981;        /* emerald-500 */
  --color-app-warning: #f59e0b;        /* amber-500 */
  --color-app-error: #ef4444;          /* red-500 */
  --color-app-background: #faf5ff;     /* violet-50 */
  --color-app-surface: #ffffff;        /* white */
  --color-app-border: #ddd6fe;         /* violet-200 */
  --color-app-highlight: #f5f3ff;      /* violet-50 */
  --color-app-text-primary: #1e293b;   /* slate-800 */
  --color-app-text-secondary: #6d28d9; /* violet-700 */
  --color-app-text-muted: #64748b;     /* slate-500 */

  /* Dark mode colors */
  --color-app-primary-dark: #a78bfa;   /* violet-400 */
  --color-app-primary-hover-dark: #8b5cf6; /* violet-500 */
  --color-app-primary-light-dark: #4c1d95; /* violet-900 */
  --color-app-secondary-dark: #64748b; /* slate-500 */
  --color-app-accent-dark: #7c3aed;    /* violet-600 */
  --color-app-success-dark: #34d399;   /* emerald-400 */
  --color-app-warning-dark: #fbbf24;   /* amber-400 */
  --color-app-error-dark: #f87171;     /* red-400 */
  --color-app-background-dark: #2e1065; /* violet-950 */
  --color-app-surface-dark: #4c1d95;   /* violet-900 */
  --color-app-border-dark: #6d28d9;    /* violet-700 */
  --color-app-highlight-dark: #3b1a6d; /* violet-900/50 approx */
  --color-app-text-primary-dark: #ede9fe; /* violet-100 */
  --color-app-text-secondary-dark: #c4b5fd; /* violet-300 */
  --color-app-text-muted-dark: #a78bfa; /* violet-400 */

  /* Spacing variables */
  --spacing-18: 4.5rem;
  --spacing-72: 18rem;
  --spacing-84: 21rem;
  --spacing-96: 24rem;

  /* Font family */
  --font-family-app: 'Inter', system-ui, -apple-system, sans-serif;
}

/* Base styles */
html {
  font-family: var(--font-family-app);
}

body {
  @apply bg-app-background dark:bg-app-background-dark;
  @apply text-app-text-primary dark:text-app-text-primary-dark;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-app-background dark:bg-app-background-dark;
}

::-webkit-scrollbar-thumb {
  @apply bg-app-border dark:bg-app-border-dark;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-app-text-muted dark:bg-app-text-muted-dark;
}

/* App component styles */
@layer components {
  .app-card {
    @apply bg-app-surface dark:bg-app-surface-dark;
    @apply border border-app-border dark:border-app-border-dark;
    @apply rounded-xl p-8;
    @apply shadow-sm;
  }

  .app-button-primary {
    @apply bg-app-primary dark:bg-app-primary-dark;
    @apply text-white dark:text-gray-900;
    @apply border-none rounded-lg;
    @apply px-6 py-3;
    @apply font-medium;
    @apply transition-colors duration-200;
  }

  .app-button-primary:hover:not(:disabled) {
    @apply bg-app-accent dark:bg-app-accent-dark;
  }

  .app-button-primary:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Form label styles */
  .app-label {
    @apply text-app-text-primary dark:text-app-text-primary-dark;
  }

  .app-helper-text {
    @apply text-app-text-secondary dark:text-app-text-secondary-dark;
  }

  .app-error-text {
    @apply text-app-error dark:text-app-error-dark;
  }

  .app-link {
    @apply text-app-text-secondary dark:text-app-text-secondary-dark;
  }

  .app-link:hover {
    @apply text-app-text-primary dark:text-app-text-primary-dark;
  }
}

/*
 * LastPass Integration
 * Disable the LastPass icon on input fields with [data-lpignore="true"]
 * Usage: <input data-lpignore="true" type="text" />
 */
[data-lpignore="true"] + div[data-lastpass-infield],
[data-lpignore="true"] + div[data-lastpass-icon-root] {
  display: none !important;
}

/*
 * Allow LastPass on the login page
 * LastPass browser extension inserts a `<div data-lastpass-root>`
 * just before the closing body tag
 * Add `login-page` to body or to a tag adjacent to the lastpass div
 */
.login-page > div[data-lastpass-root],
.login-page ~ div[data-lastpass-root] {
  display: block !important;
}
